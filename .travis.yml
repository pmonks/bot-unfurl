language: clojure
lein: lein2
script: lein2 check ; ./build-uberjar.sh
jdk:
  - oraclejdk8
sudo: false

env:
  global:
    - OC_BINARY_FOLDER=./uberjar
    - OC_PROJECT_NAME=botfarm-dev
    - OC_TEMPLATE=.openshift-template.yaml
    - OC_BUILD_CONFIG_NAME=botunfurl

after_success: "if [[ $TRAVIS_BRANCH =~ master ]]; then curl -s https://raw.githubusercontent.com/symphonyoss/contrib-toolbox/master/scripts/oc-deploy.sh | bash ; fi"
